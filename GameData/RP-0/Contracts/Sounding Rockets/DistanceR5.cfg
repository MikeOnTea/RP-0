CONTRACT_TYPE
{
	name = SoundingRocketDistanceR5
	group = SoundingRockets
    sortKey = 9991
	
	title = Heavy Suborbital Rocketry
	genericTitle = Heavy Suborbital Rocketry
	description = Developing early orbital launch vehicles is hard. As your space program matures, you will need to test new heavy engines and develop vehicles capable of putting larger payloads into orbit. Design, build and launch a heavy sounding rocket with @payload units of payload to a downrange distance of @targetDistanceKM km.
	genericDescription = Deliver a new payload a specified distance downrange. This contract will stretch your capabilities and enable harder contracts.
	synopsis = Launch a heavy sounding rocket with @payload units of lead ballast to a downrange distance of @targetDistanceKM km.
	completedMessage = Congratulations on a successful launch! The rocket has delivered the payload.

	minExpiry = 0
	maxExpiry = 0
	maxCompletions = 2
	maxSimultaneous = 1
	
	targetBody = HomeWorld()

	// Contract rewards
	prestige = Trivial
	rewardReputation = 24
	
	DATA
	{
		type = float
		targetDistanceKM = 1200
		targetDistance = @targetDistanceKM * 1000
		payload = 124
	}

	REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract
		contractType = SoundingRocketAltitude
		minCount = 5
		title = Complete @contractType Contract 5 times
	}

	BEHAVIOUR
	{
		name = IncrementIndex
		type = Expression
		CONTRACT_COMPLETED_SUCCESS {
				RP0SoundingHeavyIndex = $RP0SoundingHeavyIndex + 1
		}
	}

	PARAMETER
	{
		name = VesselGroup
		type = VesselParameterGroup		
		title = Reach @/targetDistanceKM km with @/payload units of payload
		
		PARAMETER
		{
			name = NewVessel
			type = NewVessel
			title = Launch a New Vessel
		}
		
		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 0
			maxCrew = 0
			title = Uncrewed
			hideChildren = true
		}
		
		PARAMETER
		{
			name = HasPayload
			type = HasResource
			resource = LeadBallast
			minQuantity = @/payload
			title = Have LeadBallast of at least @/payload units on the craft
			hideChildren = true
		}
		
		PARAMETER
		{
			name = CheckEngines
			type = Sequence

			hideChildren = true
			
			title = Launch a rocket with at most two engines
			
			PARAMETER
			{
				name = PartValidation
				type = PartValidation

				category = Engine

				maxCount = 2
			}
			
			PARAMETER
			{
				name = ReachState
				type = ReachState

				situation = PRELAUNCH
			}
		}
		
		PARAMETER
		{
			name = CheckEngines
			type = Sequence

			hideChildren = true
			
			title = Get a bonus if your rocket only has one engine
			
			optional = true
			rewardReputation = 6
			
			PARAMETER
			{
				name = PartValidation
				type = PartValidation

				category = Engine

				maxCount = 1
			}
			
			PARAMETER
			{
				name = ReachState
				type = ReachState

				situation = PRELAUNCH
			}
		}
		
		PARAMETER
		{
			name = ReachAlt
			type = ReachState
			minAltitude = 140000
			disableOnStateChange = true
			title = Reach an altitude of at least 140 km
		}

		PARAMETER {
			name = ReachDistance
			type = DownrangeDistance
			distance = @/targetDistance
			title = Reach a downrange distance of at least @/targetDistanceKM km
		}
	}
}
	